.container
  .page-title
    Select Tools
  .divider1
  = render :partial => "shared/oac/oac-creation-sub-nav"

  = form_for @exercise, as: :exercise, url: select_tools_company_oac_exercise_path(@company.id, @exercise.id), html: { method: :put } do |f|
    .span22.margin-auto
      %ul.clearfix
        - @tools.each_with_index do |tool, index|
          - exercise_tool = @exercise_tools.detect{|exercise_tool| exercise_tool.tool_id == tool.id }
          - if exercise_tool.present?
            %input{ type: "hidden", name: "exercise[exercise_tools_attributes][#{index}][id]", value: exercise_tool.id }
          %input{ type: "hidden", name: "exercise[exercise_tools_attributes][#{index}][assessment_type]", value: tool.assessment_class }
          %input{ type: "hidden", name: "exercise[exercise_tools_attributes][#{index}][user_exercise_type]", value: tool.user_exercise_type }
          %li.span10
            %label.big-text.default.span5
              %input{:type=>"checkbox", name: "exercise[exercise_tools_attributes][#{index}][tool_id]", value: tool.id, checked: exercise_tool.present?}
              = tool.name
            %select.span4{ name: "exercise[exercise_tools_attributes][#{index}][tool_order]" }
              - @tools.size.times do |index|
                %option{ value: index+1, selected: (exercise_tool.present? ? (exercise_tool.tool_order == index+1) : false) }
                  #{index+1}
            .clr
            .divider1
      
    
    .divider2
    %input{ class: "btn pull-right btn-info big-text big font-bold", type: "Submit", value: "Proceed" }
    .clr

