- width = 66.66
.overview.competency
  .bottom-triangle
    .container
      .divider1
      .content
        .overview-title{:style=>"padding-left: 32px"}
          .pull-left.text-left
            .extra-large-text 
              Overview of Competencies / Values Measured
            .divider1
            .instruction_container
              .instructions
                .box.pull-left
                  .box-icon.pull-left
                  .box-title.pull-left 
                    Expected Score Range
                  .clr
                .instruction1.pull-left
                  Favorable
                .instruction2.less_favorable.pull-left
                  Less Favorable
                .clr
            .clr

          .scale.right-offset1
            .line{:style => "width:#{@score_buckets.size*width-10}px"}
            .marker-container
              - @score_buckets.each do |score_bucket|
                .marker
                  .arrow
                  .marker-info
                    = score_bucket.name
                  - if score_bucket.name.split(" ").size == 1
                    %br
                  = score_bucket.name
              .clr
          .clr
        %ul.competency-list.pull-left
          - @report.report_data[:super_competency_scores].each do |id, data|
            - config = @report.report_data[:super_competency_configuration][:overall_configuration][id.to_s]
            - from_bucket_weight = @score_buckets_by_id[config['desired_range']['from_bucket'].to_i].weight
            - to_bucket_weight = @score_buckets_by_id[config['desired_range']['to_bucket'].to_i].weight
            - scored_bucket_weight = data[:score][:weight].to_i
            - scored_bucket = data[:score][:bucket]
            - range = (to_bucket_weight - from_bucket_weight)*80
            - left = (to_bucket_weight-1)*40
            %li
              .favorable.first.hexagon-icon.span1
              .competency-name.pull-left
                = data[:name]
              .competency-value.pull-right
                .scale.right-offset1
                  .line{:style => "width:#{@score_buckets.size*width-14}px"}
                  .marker-container
                    .desire_range{:style => "left: 40px; width: #{range}px; margin-left: #{left}px"}
                    - @score_buckets.each do |score_bucket|
                      - klass = score_bucket.name == scored_bucket ? "active" : ""
                      - klass += (from_bucket_weight..to_bucket_weight).include?(scored_bucket_weight) ? " favorable" : " less_favorable"
                      .marker{ class: klass }
                        - if score_bucket.name == data[:score][:bucket]
                          = data[:score][:bucket]
                    .clr
                .clr
              .clr
          
        .clr
        .clr
      .divider2
