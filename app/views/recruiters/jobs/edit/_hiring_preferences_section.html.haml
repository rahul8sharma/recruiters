= form_tag recruiters_jobs_path(:id => @job.uuid, :section => @section), :method => :put, "data-hiring_preferences" => true, :class => "form-horizontal margin" do
  .control-group
    %label.control-label
      Do you want to hire candidates from particular industries?
    .controls
      = select_tag("candidate_industry_select", options_from_collection_for_select(@master_data[:industries], :id, :name), :prompt => "Select one or more", class: "span9 first fl_none", "data-preselect" => "job.try(:industries).try(:first).try(:id)", "data-job_industry_pseudo_select" => true)
      %div{:data => {"preferred-job_industry-container" => true}}

  .control-group
    %label.control-label
      Do you want to hire candidates from a particular location(s)?
    .controls
      = select_tag("candidate_location_select", top_list_for_select(:india_cities), :prompt => "Select one or more", class: "span9 first fl_none", "data-preselect" => "job.try(:locations).try(:first).try(:geography_id)", "data-job_location_pseudo_select" => true)
      %div{:data => {"preferred-job_location-container" => true}}

  .control-group
    %label.control-label
      Communication Skills 
      %br/
      required for this job

  .control-group
    %label.control-label.font_normal
      Spoken English
    .controls
      = select_tag("skill[spoken][level]", skill_level_options, :prompt => "Select one", :class => "span7 first fl_none")
  .control-group
    %label.control-label.font_normal
      Written English
    .controls
      = select_tag("skill[written][level]", skill_level_options, :prompt => "Select one", :class => "span7 first fl_none")
  .control-group.margin
    %label.control-label
      Preferred Behavioral Traits
      .label_subtitle 
        Select upto 6 options
    .controls.behavioral_traits
      - @master_data[:traits].each_with_index do |trait, index|
        %label.checkbox.traits_badge
          = check_box_tag("trait[]", trait.id, false, :class => "hide")
          #{ trait.name }
  .control-group.error
    .controls
      %span.error.help-inline{:for => "trait[]", :generated => "true"}
  .control-group
    %label.control-label
      Preferred Gender
    .controls
      - @master_data[:gender].each_with_index do |gender, index|
        %label.radio.span3{:class => index == 0 ? "first" : ""}
          = radio_button_tag("candidate[personal][gender]", gender.id, (@basic[:gender] rescue nil).try(:id) == gender.id)
          #{ gender.name }
      %label.radio.span3
        %input#optionsRadios2{:checked => "", :name => "candidate[personal][gender]", :type => "radio", :value => ""}
          No Preference
      .clr

  .control-group
    %label.control-label
      Preferred Marital Status
    .controls
      - @master_data[:marital_status].each_with_index do |status, index|
        %label.radio.span3{:class => index == 0 ? "first" : ""}
          = radio_button_tag("candidate[personal][marital_status]", status.id, (@basic[:marital_status] rescue nil).try(:id) == status.id)
          #{ status.name }
      %label.radio.span3
        %input#optionsRadios2{:checked => "", :name => "candidate[personal][marital_status]", :type => "radio", :value => "option2"}
          No Preference
      .clr
    .divider1

  .form-actions
    %a.pull-left{:class => "", :href => recruiters_jobs_path(:id => @job.uuid, :section => @prev_section)}
      Previous
    %button.pull-right{:class => "btn btn-info offset1", :type => "submit"}
      %strong Next Step
    %a.pull-right{:class => "", :href => "#"}
      %strong save and continue later
    .clr

%script#preferred-job_industry{type: 'text/x-template'}
  = render :partial => "recruiters/jobs/edit/hiring_preferences/job_candidate_industry", locals: {job_industry: preferred_job_industry_template_struct}
%script#preferred-job_location{type: 'text/x-template'}
  = render :partial => "recruiters/jobs/edit/hiring_preferences/job_candidate_location", locals: {job_location: preferred_job_location_template_struct}