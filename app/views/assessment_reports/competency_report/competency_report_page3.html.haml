= render partial: "shared/reports/report_header.html.haml"
.inner
  .scores.favorable_factors
    .blue_bg_heading
      - if @view_mode == "html"
        Scores of Factors measured under different 
        %b Competencies 
      - else
        Factor wise scores per competency  
      .thumbnails
        .thumbnails_inn3
    .clr
    .indication.pull-left
      .pull-left.box
      .pull-left
        %b Desired/Acceptable Score
      .clr
      .divider1

      .pull-left.hexagon-icon.mid_favorable
      .pull-left{:style => "line-height: 32px"}
        %b Obtained Score

      .clr

    .scale
      - @norm_buckets.each do |norm_bucket|
        .marker
          - if norm_bucket.name.split(" ").size == 1
            %br/
          = norm_bucket.name
      .clr
    .clr
    .divider1
    - if @view_mode == "html"
      - @report.report_hash[:competency_scores].each do |competency_name, competency_data|
        - if competency_data[:factor_scores].present?
          = render :template => "assessment_reports/competency_report/competency", :locals => { competency_name: competency_name, competency_data: competency_data, factor_scores: competency_data[:factor_scores], step: 0 }
    - else
      = render :template => "assessment_reports/competency_report/competency", locals: { competency_name: competency_name, competency_data: competency_data, factor_scores: factor_scores, step: step }
