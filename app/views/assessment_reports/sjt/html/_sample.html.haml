#scores
  .divider2
  .scores.container.sjt
    .title.pull-left
      .divider3
      Scores of Competencies/Values measured
    .scale
      .line{:style=>"width:#{(@company_norm_buckets.size-1)*80}px"}
      .marker-container
        - @company_norm_buckets.each do |norm_bucket|
          .marker
            .arrow
            .marker-info
              = norm_bucket.description
            - if norm_bucket.name.split(" ").size == 1
              %br/
            = norm_bucket.name
        .clr
    .clr
    
    
    .divider4
   

    - @report.report_hash[:competency_scores].each do |competency_name, competency_data|
      - if competency_data[:factor_scores].present?
        - company_norm_bucket = @company_norm_buckets.detect{|bucket| bucket.norm_bucket_ids.include?(competency_data[:grade_uid])}
        
        .frame
          %ul.clearfix.scores_listing.first
            - competency_data[:factor_scores].each do |factor_name, factor_score|
              %li{:id => "#{competency_name}#{factor_name}"}
                .divider1
                .lhs-sec.pull-left
                  %div{ class: "span1 first hexagon-icon #{factor_score[:pass] ? 'favorable' : 'less_favorable'}" }
                  .span15.first
                    .factor-name.pull-left{ class: "#{factor_score[:type] == 'Functional::Trait' ? 'star':''}" }
                      = factor_name 
                      .info
                        = factor_score[:factor_definition]
                      .arrow
                    .clr
                .rhs-sec.pull-right
                  .scale
                    .line{:style => "width:400px"}
                    .marker-container
                      .favorable.marker
                      .favorable.marker
                      .favorable.marker
                      .favorable.marker
                      .active.favorable.marker
                        Above Average
                      .favorable.marker
                      .clr
                  -#
                    - scale_values = get_scale_calculations(80, factor_score, @company_norm_buckets, 34)
                    .slider{:style=>"width:#{scale_values[:scale_width]}px"}
                      - if ((scale_values[:width] == 34) && (scale_values[:to_norm_bucket_name] == @company_norm_buckets.last.name))
                        - scale_values[:offset] = scale_values[:offset] - 34
                      .pointer{ class: "#{factor_score[:pass] ? '' : 'less_favorable'}", style: "left: #{scale_values[:position]}px;" }
                        .score-indicater
                          #{scale_values[:company_norm_bucket_name]}
                        .arrow
                   
                .clr
                .divider1
                .factor-description.big-text
                  %p Often finds it hard to make decisions
                  %p  Might often choose to continue investing efforts on a task than letting it go
                  %p Often takes efforts to update himself/herself about recent developments in his/her field when asked to
                  %p Often a quick problem solver; likely to think of practical solutions to problems but may have difficulties in crises
                  %p Often open to change


      .divider1
/ &raquo;
/ &raquo;
/ &raquo;
/ &raquo;
/ &raquo;