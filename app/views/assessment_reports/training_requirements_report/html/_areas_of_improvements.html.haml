#details
  .container
    .divider2
    .title
      Tips on Areas of Improvement
    .divider2
    .pull-left
      .divider2
      .score-indicator
        .indicator.less_favorable.first
          Candidates with Less Favorable scores
        .indicator.favorable
          Candidates with Favorable scores
        .clr
        .divider1
        .indicator.mid-favorable.first
          Most frequent score amongst less favourable scores
        .clr
    
    .scale.pull-right
      .line
      .marker-container
        -@norm_buckets.each do |norm_bucket|
          .marker
            .arrow
            .marker-info
              = norm_bucket.description
            - if norm_bucket.name.split(" ").size == 1
              %br/
            = norm_bucket.name
        .clr
    .clr
    .divider1
  %ul.improvement-tips-list
    - factor_scores.each_with_index do |(factor_name, factor_score), index|
      %li
        .container
          .trait-name.span8.first
            .divider2
            = factor_name
          .training-need-bar-graph.pull-left
            .divider2
            .left.medium-text.pull-left 
              - left = factor_score[:percentage_users]
              #{left}%
            .bar-graph.pull-left
              .bar{:style=>"width: #{factor_score[:percentage_users]}%;"}

            .right.medium-text.favorable.pull-right
              #{100 - factor_score[:percentage_users]}%
            .clr
          -#.pie-snippet.span6.left-offset2
            .divider1
            .left
              - left = factor_score[:percentage_users]
              #{left}%
            .pie-visual 
              .pie-chart{ id: "pie_#{index}", "data-percentage-users" => factor_score[:percentage_users], style: "width: 70px;height: 70px;" }
            .right.favorable
              #{100 - factor_score[:percentage_users]}%
          .rating-slider.pull-right
            - @norm_buckets.each do |norm_bucket|
              .marker{:class => norm_bucket.name == factor_score[:most_scored_norm_bucket] ? 'active': ''}
                .arrow
                .score
                  = norm_bucket.name
            .clr
          .clr
          .divider1
          - if @report.tips_in_traits
            %p
              #{factor_score[:tip]}
  .divider2
