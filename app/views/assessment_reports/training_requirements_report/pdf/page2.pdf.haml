= render :partial => "assessment_reports/training_requirements_report/pdf/header"
.divider2
#trait-score.training-need
  .title.extra-large-text
    Top Training Needs
  .instruction_container
    .instructions
      .instruction1.pull-left
        Candidates with Less Favorable scores
      .instruction2.less_favorable.pull-left
        Candidates with Favorable scores
      .label.span
        Average Score
      .clr
  
  .clr
  
  %ul.training-need-list
    - counter = step
    - limiter = Rails.application.config.reports["html"]["graph_limiter_on_training_requirement_report"]
    - factor_scores.keys.each_slice(3) do |factor_names|
      - factor_scores = @report_data[:factor_scores].slice(*factor_names)
      %li
        - factor_scores.each_with_index do |(factor_name,factor_score), index|
          - counter = counter + 1
          .snippet
            .count.pull-left
              = counter
            .trait-title.pull-left
              = factor_name
            .clr
            .pie-visual
              .pie-chart{ id: "pie_#{index}", "data-percentage-candidates" => factor_score[:percentage_candidates], style: "width: 115px;height: 115px;" }
            .divider1
            .score
              #{factor_score[:percentage_candidates]}% Less Favourable
            - if @report.average_scores_in_top_training_needs
              .label
                = factor_score[:avg_score][:bucket]
        .clr
